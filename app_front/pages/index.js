import Head from "next/head";
import IndexSectionOne from "@/containers/IndexSectionOne/IndexSectionOne";
import { useRouter } from "next/router";
import { useSelector } from "react-redux";
import { useEffect } from "react";
import { Loading } from "@/components";
import { notifyEngine } from "@/utils/notifyEngine";


const Home = () => {
  const router = useRouter()
  const auth = useSelector((state) => state.auth);
  useEffect(() => {
    if (auth.logged) {
      notifyEngine("شما لاگین هستید", "info");
      switch(auth.type){
        case 3:
          router.push("/SuperAdminDashboard/")
          break
        case 2:
          router.push("/AdminDashboard")
          break
        case 1:
          router.push("/UserDashboard")
          break
      }
       
  }
  }, [auth.logged, auth.loading, auth.type, router]); 

  // if (!auth.loading || auth.logged ) {
  //   return <Loading />;
  // }

  return (
    <>
      <Head>
        <title>اتوماسیون اداری ارگ کریمان</title>
        <meta name="description" ontent="Generated by Ali Mahmoodi" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/logo_white-150x150.png" />
      </Head>
      <div>
        <main className="container mx-auto px-4">
            <IndexSectionOne/>  
        </main>
      </div>
    </>
  );
}

export default Home